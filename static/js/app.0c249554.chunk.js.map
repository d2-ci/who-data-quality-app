{"version":3,"sources":["D2App/components/Section.module.css","D2App/sections/Dashboard/Dashboard.module.css","D2App/components/NoMatch.module.css","D2App/App/App.module.css","D2App/App/AppContext.js","D2App/config/paths.js","D2App/config/adminAuthorities.js","D2App/components/Section.js","D2App/sections/Administration/Administration.js","D2App/sections/AnnualReport/AnnualReport.js","D2App/sections/ConsistencyAnalysis/ConsistencyAnalysis.js","D2App/sections/Dashboard/Completeness.js","D2App/sections/Dashboard/ConsistencyTime.js","D2App/sections/Dashboard/ConsistencyData.js","D2App/sections/Dashboard/Outliers.js","D2App/components/TabLink.js","D2App/sections/Dashboard/Dashboard.js","D2App/sections/DataExportForExcel/DataExportForExcel.js","D2App/sections/OutliersAndMissingDataAnalysis/OutliersAndMissingDataAnalysis.js","D2App/components/MenuItemLink.js","D2App/components/SideNav.js","D2App/components/NoMatch.js","D2App/App/AppRouter.js","D2App/hooks/useAppDataQuery.js","D2App/App/App.js"],"names":["module","exports","AppContext","createContext","AppContextProvider","Provider","Section","headerText","children","className","classes","container","header","content","Administration","i18n","t","AnnualReport","ConsistencyAnalysis","Completeness","ConsistencyTime","ConsistencyData","Outliers","TabLink","to","history","useHistory","match","useRouteMatch","selected","onClick","push","PATHS","COMPLETENESS","CONSISTENCY_TIME","CONSISTENCY_DATA","OUTLIERS","Dashboard","cx","sectionClasses","filterButton","primary","fixed","exact","path","component","from","DataExportForExcel","OutliersAndMissingDataAnalysis","MenuItemLink","label","active","SideNav","currentUserIsAdmin","useContext","data-test","href","target","NoMatch","AppRouter","spacers","colors","sidebar","query","me","resource","useAppDataQuery","loading","error","data","useDataQuery","userAuthorities","authorities","undefined","App","ADMIN_AUTHORITIES","message","some","auth","includes","value","namespace"],"mappings":"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","file":"static/js/app.0c249554.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Section_container__1alyX\",\"header\":\"Section_header__JMxZL\",\"content\":\"Section_content__39sP0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Dashboard_header__1q72n\",\"headerText\":\"Dashboard_headerText__El2LL\",\"filterButton\":\"Dashboard_filterButton__3CGxa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"NoMatch_container__1TEj_\",\"content\":\"NoMatch_content__14Lnx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__2FNjD\",\"sidebar\":\"App_sidebar__2NyZt\",\"content\":\"App_content__n5waq\"};","import { createContext, useContext } from 'react';\nconst AppContext = createContext();\n\nconst useAppContext = () => useContext(AppContext);\n\nconst AppContextProvider = AppContext.Provider;\nexport { AppContext, useAppContext, AppContextProvider };","export const DASHBOARD = '/dashboard';\nconst OUTLIERS_AND_MISSING_DATA_ANALYSIS = '/outliers-and-missing-data-analysis';\nconst CONSISTENCY_ANALYSIS = '/consistency-analysis';\nconst ANNUAL_REPORT = '/annual-report';\nconst ADMINISTRATION = '/administration';\nconst DATA_EXPORT_FOR_EXCEL = '/data-export-for-excel';\nexport default {\n  DASHBOARD,\n  OUTLIERS_AND_MISSING_DATA_ANALYSIS,\n  CONSISTENCY_ANALYSIS,\n  ANNUAL_REPORT,\n  ADMINISTRATION,\n  DATA_EXPORT_FOR_EXCEL\n};","export default ['ALL', 'F_INDICATOR_PUBLIC_ADD'];","import React from 'react';\nimport propTypes from '@dhis2/prop-types';\nimport { Card } from '@dhis2/ui';\nimport classes from './Section.module.css';\n\nconst Section = ({\n  headerText,\n  children\n}) => <div className={classes.container}>\n        <h1 className={classes.header}>{headerText}</h1>\n        <Card className={classes.content}>{children}</Card>\n    </div>;\n\nSection.propTypes = {\n  children: propTypes.node,\n  headerText: propTypes.string\n};\nexport default Section;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport Section from '../../components/Section.js';\n\nconst Administration = () => {\n  return <Section headerText={i18n.t('Administration')}>\n            Section content goes here\n        </Section>;\n};\n\nexport default Administration;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport Section from '../../components/Section.js';\n\nconst AnnualReport = () => {\n  return <Section headerText={i18n.t('Annual report')}>\n            Section content goes here\n        </Section>;\n};\n\nexport default AnnualReport;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport Section from '../../components/Section.js';\n\nconst ConsistencyAnalysis = () => {\n  return <Section headerText={i18n.t('Consistency analysis')}>\n            Section content goes here\n        </Section>;\n};\n\nexport default ConsistencyAnalysis;","import React from 'react';\n\nconst Completeness = () => <h1>Completeness</h1>;\n\nexport default Completeness;","import React from 'react';\n\nconst ConsistencyTime = () => <h1>ConsistencyTime</h1>;\n\nexport default ConsistencyTime;","import React from 'react';\n\nconst ConsistencyData = () => <h1>ConsistencyData</h1>;\n\nexport default ConsistencyData;","import React from 'react';\n\nconst Outliers = () => <h1>Outliers</h1>;\n\nexport default Outliers;","import React from 'react';\nimport propTypes from '@dhis2/prop-types';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { Tab } from '@dhis2/ui';\n\nconst TabLink = ({\n  to,\n  children\n}) => {\n  const history = useHistory();\n  const match = useRouteMatch(to);\n\n  const onClick = () => history.push(to);\n\n  return <Tab selected={!!match} onClick={onClick}>\n            {children}\n        </Tab>;\n};\n\nTabLink.propTypes = {\n  children: propTypes.node,\n  to: propTypes.string\n};\nexport default TabLink;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport cx from 'classnames';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { Button, Card, TabBar } from '@dhis2/ui';\nimport Completeness from './Completeness.js';\nimport ConsistencyTime from './ConsistencyTime.js';\nimport ConsistencyData from './ConsistencyData.js';\nimport Outliers from './Outliers.js';\nimport TabLink from '../../components/TabLink.js';\nimport sectionClasses from '../../components/Section.module.css';\nimport { DASHBOARD } from '../../config';\nimport classes from './Dashboard.module.css';\nconst PATHS = {\n  COMPLETENESS: `${DASHBOARD}/completeness`,\n  CONSISTENCY_TIME: `${DASHBOARD}/consistency-time`,\n  CONSISTENCY_DATA: `${DASHBOARD}/consistency-data`,\n  OUTLIERS: `${DASHBOARD}/outliers`\n};\n\nconst Dashboard = () => <>\n        <h1 className={cx([sectionClasses.header], [classes.header])}>\n            <span className={classes.headerText}>{i18n.t('Dashboard')}</span>\n            <Button className={classes.filterButton} primary>\n                Filter\n            </Button>\n        </h1>\n        <Card>\n            <TabBar fixed>\n                <TabLink to={PATHS.COMPLETENESS}>\n                    {i18n.t('Completeness')}\n                </TabLink>\n                <TabLink to={PATHS.CONSISTENCY_TIME}>\n                    {i18n.t('Consistency - time')}\n                </TabLink>\n                <TabLink to={PATHS.CONSISTENCY_DATA}>\n                    {i18n.t('Consistency - data')}\n                </TabLink>\n                <TabLink to={PATHS.OUTLIERS}>{i18n.t('Outliers')}</TabLink>\n            </TabBar>\n            <div className={sectionClasses.content}>\n                <Switch>\n                    <Route exact path={PATHS.COMPLETENESS} component={Completeness} />\n                    <Route exact path={PATHS.CONSISTENCY_TIME} component={ConsistencyTime} />\n                    <Route exact path={PATHS.CONSISTENCY_DATA} component={ConsistencyData} />\n                    <Route exact path={PATHS.OUTLIERS} component={Outliers} />\n                    <Redirect from={DASHBOARD} to={PATHS.COMPLETENESS} />\n                </Switch>\n            </div>\n        </Card>\n    </>;\n\nexport default Dashboard;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport Section from '../../components/Section.js';\n\nconst DataExportForExcel = () => {\n  return <Section headerText={i18n.t('Data export for excel')}>\n            Section content goes here\n        </Section>;\n};\n\nexport default DataExportForExcel;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport Section from '../../components/Section.js';\n\nconst OutliersAndMissingDataAnalysis = () => {\n  return <Section headerText={i18n.t('Outliers and missing data analysis')}>\n            Section content goes here\n        </Section>;\n};\n\nexport default OutliersAndMissingDataAnalysis;","import React from 'react';\nimport propTypes from '@dhis2/prop-types';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { MenuItem } from '@dhis2/ui';\n\nconst MenuItemLink = ({\n  to,\n  label\n}) => {\n  const history = useHistory();\n  const match = useRouteMatch(to);\n\n  const onClick = () => history.push(to);\n\n  return <MenuItem label={label} active={!!match} onClick={onClick} />;\n};\n\nMenuItemLink.propTypes = {\n  label: propTypes.string,\n  to: propTypes.string\n};\nexport default MenuItemLink;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { Menu, MenuItem, MenuSectionHeader, MenuDivider } from '@dhis2/ui';\nimport MenuItemLink from './MenuItemLink.js';\nimport { PATHS } from '../config';\nimport { useAppContext } from '../App/AppContext';\n\nconst SideNav = () => {\n  const {\n    currentUserIsAdmin\n  } = useAppContext();\n  return <nav data-test=\"who-sidenav\">\n            <Menu>\n                <MenuItemLink to={PATHS.DASHBOARD} label={i18n.t('Dashboard')} />\n                <MenuSectionHeader label={i18n.t('Analysis')} />\n                <MenuItemLink to={PATHS.OUTLIERS_AND_MISSING_DATA_ANALYSIS} label={i18n.t('Outliers and missing data')} />\n                <MenuItemLink to={PATHS.CONSISTENCY_ANALYSIS} label={i18n.t('Consistency')} />\n                <MenuDivider />\n                <MenuItemLink to={PATHS.ANNUAL_REPORT} label={i18n.t('Annual report')} />\n                <MenuSectionHeader label={i18n.t('More')} />\n                {currentUserIsAdmin && <MenuItemLink to={PATHS.ADMINISTRATION} label={i18n.t('Administration')} />}\n                <MenuItemLink to={PATHS.DATA_EXPORT_FOR_EXCEL} label={i18n.t('Data export for Excel tool')} />\n                <MenuItem href=\"https://www.ssb.no/en/helse/artikler-og-publikasjoner/manual-for-the-dhis2-quality-tool\" target=\"_blank\" label={i18n.t('User manual')} />\n                <MenuDivider />\n            </Menu>\n        </nav>;\n};\n\nexport default SideNav;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport classes from './NoMatch.module.css';\n\nconst NoMatch = () => <div className={classes.container}>\n        <h1 className={classes.content}>{i18n.t('Page not found')}</h1>\n    </div>;\n\nexport default NoMatch;","import React from 'react';\nimport { PATHS } from '../config';\nimport { Dashboard, DataExportForExcel, OutliersAndMissingDataAnalysis, ConsistencyAnalysis, AnnualReport, Administration } from '../sections';\nimport { HashRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { CssVariables } from '@dhis2/ui';\nimport SideNav from '../components/SideNav.js';\nimport NoMatch from '../components/NoMatch.js';\nimport classes from './App.module.css';\n\nconst AppRouter = () => <Router>\n        <CssVariables spacers colors />\n        <div className={classes.container}>\n            <aside className={classes.sidebar}>\n                <SideNav />\n            </aside>\n            <main className={classes.content}>\n                <Switch>\n                    <Route path={PATHS.DASHBOARD} component={Dashboard} />\n                    <Route exact path={PATHS.OUTLIERS_AND_MISSING_DATA_ANALYSIS} component={OutliersAndMissingDataAnalysis} />\n                    <Route exact path={PATHS.CONSISTENCY_ANALYSIS} component={ConsistencyAnalysis} />\n                    <Route exact path={PATHS.ANNUAL_REPORT} component={AnnualReport} />\n                    <Route exact path={PATHS.ADMINISTRATION} component={Administration} />\n                    <Route exact path={PATHS.DATA_EXPORT_FOR_EXCEL} component={DataExportForExcel} />\n                    <Redirect exact from=\"/\" to={PATHS.DASHBOARD} />\n                    <Route component={NoMatch} />\n                </Switch>\n            </main>\n        </div>\n    </Router>;\n\nexport default AppRouter;","import { useDataQuery } from '@dhis2/app-service-data';\nconst query = {\n  me: {\n    resource: 'me'\n  }\n};\n\nconst useAppDataQuery = () => {\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n  return {\n    loading,\n    error,\n    data: data ? {\n      userAuthorities: data.me.authorities\n    } : undefined\n  };\n};\n\nexport default useAppDataQuery;","import React from 'react';\nimport { DataStoreProvider } from '@dhis2/app-service-datastore';\nimport { AppContextProvider } from './AppContext';\nimport AppRouter from './AppRouter';\nimport { ADMIN_AUTHORITIES } from '../config';\nimport useAppDataQuery from '../hooks/useAppDataQuery';\n\nconst App = () => {\n  const {\n    loading,\n    error,\n    data\n  } = useAppDataQuery(ADMIN_AUTHORITIES);\n\n  if (loading) {\n    //TODO: add loading component when we implemented the deferred loading spinner with 700ms delay in @dhis2/ui\n    return null;\n  }\n\n  if (error) {\n    //TODO: improve error handling\n    return <span>{error.message}</span>;\n  }\n\n  const currentUserIsAdmin = data.userAuthorities.some(auth => ADMIN_AUTHORITIES.includes(auth));\n  return <AppContextProvider value={{ ...data,\n    currentUserIsAdmin\n  }}>\n            <DataStoreProvider namespace=\"dataQualityTool\">\n                <AppRouter />\n            </DataStoreProvider>\n        </AppContextProvider>;\n};\n\nexport default App;"],"sourceRoot":""}